{"remainingRequest":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/alex/Desktop/myproject/src/components/music.vue?vue&type=style&index=0&id=660a6309&lang=scss&scoped=true&","dependencies":[{"path":"/Users/alex/Desktop/myproject/src/components/music.vue","mtime":1573565468000},{"path":"/Users/alex/Desktop/myproject/node_modules/_css-loader@3.2.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmkgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIHJpZ2h0OiAyMHB4Ow0KICB0b3A6IDUwcHg7DQogIGZvbnQtc2l6ZTogMzBweDsNCiAgY29sb3I6ICMwMDA7DQogIHotaW5kZXg6IDEwMDA7DQp9DQppLnBsYXkgew0KICBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlOw0KfQ0KQC13ZWJraXQta2V5ZnJhbWVzIHNwaW4gew0KICBmcm9tIHsNCiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOw0KICB9DQogIHRvIHsNCiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7DQogIH0NCn0NCg0KQGtleWZyYW1lcyBzcGluIHsNCiAgZnJvbSB7DQogICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7DQogIH0NCiAgdG8gew0KICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7DQogIH0NCn0NCg=="},{"version":3,"sources":["music.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"music.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <van-icon name=\"music\" :class=\"{'play': play}\" @click=\"changeOn\" />\r\n        <audio src=\"https://webfs.yun.kugou.com/201910311526/7ce4ca0b64612d4bf9f472aa07171134/G056/M03/0F/07/GJQEAFbaReSADpJMAFcJFYoniCs294.mp3\" preload controls hidden ref=\"music\"></audio>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"music\",\r\n  data() {\r\n    return {\r\n      play: false\r\n    };\r\n  },\r\n  mounted() {\r\n    // 自动播放音乐效果，解决微信自动播放问题\r\n    document.addEventListener(\"touchstart\", this.audioAutoPlay, false);\r\n    document.addEventListener(\"WeixinJSBridgeReady\", this.audioAutoPlay, false);\r\n    let oAudio = this.$refs[\"music\"];\r\n    oAudio.onended = function() {\r\n      //播放完毕，重新循环播放\r\n      oAudio.load();\r\n      oAudio.play();\r\n    };\r\n  },\r\n  methods: {\r\n    changeOn() {\r\n      let oAudio = this.$refs[\"music\"];\r\n      if (!this.play) {\r\n        oAudio.play(); //让音频文件开始播放\r\n      } else {\r\n        oAudio.pause(); //让音频文件暂停播放\r\n      }\r\n      this.play = !this.play;\r\n    },\r\n    audioAutoPlay() {\r\n      let audio = this.$refs[\"music\"];\r\n      this.play = true;\r\n      audio.play();\r\n      document.removeEventListener(\"touchstart\", this.audioAutoPlay);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\ni {\r\n  position: fixed;\r\n  right: 20px;\r\n  top: 50px;\r\n  font-size: 30px;\r\n  color: #000;\r\n  z-index: 1000;\r\n}\r\ni.play {\r\n  animation: spin 2s linear infinite;\r\n}\r\n@-webkit-keyframes spin {\r\n  from {\r\n    -webkit-transform: rotate(0deg);\r\n  }\r\n  to {\r\n    -webkit-transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n"]}]}