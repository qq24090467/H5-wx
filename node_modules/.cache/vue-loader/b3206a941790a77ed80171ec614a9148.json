{"remainingRequest":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/alex/Desktop/myproject/src/views/bargainDev.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alex/Desktop/myproject/src/views/bargainDev.vue","mtime":1574700292859},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNdXNpYyBmcm9tICIuLi9jb21wb25lbnRzL211c2ljIjsKaW1wb3J0IFVzZXJDZW50ZXIgZnJvbSAiLi4vY29tcG9uZW50cy91c2VyQ2VudGVyIjsKaW1wb3J0IENvbnRlbnRXcmFwIGZyb20gIi4uL2NvbXBvbmVudHMvY29udGVudFdyYXAiOwppbXBvcnQgVlRleHRhcmVhIGZyb20gIi4uL2NvbXBvbmVudHMvdGV4dGFyZWEiOwppbXBvcnQgQWRkRmlsZSBmcm9tICIuLi9jb21wb25lbnRzL2FkZEZpbGUiOwppbXBvcnQgQWRkQ29tcG9uZW50IGZyb20gIi4uL2NvbXBvbmVudHMvYWRkQ29tcG9uZW50IjsKaW1wb3J0IE9yZGVyU29mdCBmcm9tICIuLi9jb21wb25lbnRzL29yZGVyU29mdCI7CmltcG9ydCBUaXRsZUFjdGl2ZSBmcm9tICIuLi9jb21wb25lbnRzL3RpdGxlQWN0aXZlIjsKaW1wb3J0IFRoZW1lQWN0aXZpdHkgZnJvbSAiLi4vY29tcG9uZW50cy90aGVtZSI7CmltcG9ydCBTcGVjaWFsIGZyb20gIi4uL2NvbXBvbmVudHMvc3BlY2lhbCI7CmltcG9ydCBDcmVhdGVUaW1lIGZyb20gIi4uL2NvbXBvbmVudHMvdGltZSI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImJhcmdhaW4tZGV2IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWV0YURhdGE6IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgYWN0aXZpdHlOYW1lOiAiIiwgLy/mtLvliqjlkI3np7AKICAgICAgICBzdGFydFRpbWU6ICIiLCAvL+W8gOWni+aXtumXtAogICAgICAgIGVuZFRpbWU6ICIiLCAvL+e7k+adn+aXtumXtAogICAgICAgIG9yaWdpbmFsUHJpY2U6ICIiLCAvL+WOn+S7twogICAgICAgIGZsb29yUHJpY2U6ICIiLCAvL+W6leS7twogICAgICAgIG1pblJlZHVjdGlvbjogIiIsIC8v5pyA5bCR56CN5Lu3CiAgICAgICAgbWF4UmVkdWN0aW9uOiAiIiwgLy/mnIDlpJrnoI3ku7cKICAgICAgICB0YXJnZXROdW06ICIiLAogICAgICAgIHJlc3RyaWN0VGltZTogIiIsIC8v56CN5Lu36Ze06ZqU5pe26Ze0CiAgICAgICAgcHJpemVEZXNjcmlwdGlvbjogW10sIC8v5aWW5ZOB5o+P6L+wCiAgICAgICAgYWN0aXZpdHlSdWxlOiAiIiwgLy/mtLvliqjop4TliJkKICAgICAgICBwcml6ZUluZm86ICIiLCAvL+mihuWlluS/oeaBrwogICAgICAgIGNvbXBhbnlEZXNjcmlwdGlvbjogIiIsIC8v5py65p6E5LuL57uNCiAgICAgICAgY29tcGFueU5hbWU6ICIiLCAvL+acuuaehOWQjeensAogICAgICAgIHRodW1ibmFpbDogW10sIC8v5py65p6E5Zu+54mHCiAgICAgICAgZGlzY291bnQ6IFtdLAogICAgICAgIHVwZGF0ZVVzZXI6ICIiLAogICAgICAgIGNyZWF0ZVRpbWU6ICIiLCAvL+WIm+W7uuaXtumXtAogICAgICAgIHVwZGF0ZVRpbWU6ICIiLAogICAgICAgIHFySW1nOiAiIiwgLy/kuoznu7TnoIEKICAgICAgICBnaWZ0OiBbXSwgLy/npLznianlm77niYcKICAgICAgICBwcml6ZUxlZnQ6ICIiLAogICAgICAgIGxhdGl0dWRlOiAiIiwKICAgICAgICBsb25naXR1ZGU6ICIiLAogICAgICAgIGhlYWRJbWFnZTogIiIsCiAgICAgICAgZ2lmdE5hbWU6ICIiLAogICAgICAgIGZvb3RJbWFnZTogIiIsCiAgICAgICAgdG90YWxfcHJpY2U6ICIiLAogICAgICAgIGJnSW1hZ2U6ICIiLAogICAgICAgIHByaXplTnVtOiAiIiwKICAgICAgICBwaG9uZTogIiIsCiAgICAgICAgcXVlc3Rpb24xOiAiIiwKICAgICAgICBxdWVzdGlvbjI6ICIiLAogICAgICAgIHF1ZXN0aW9uMzogIiIsCiAgICAgICAgcXVlc3Rpb240OiAiIiwKICAgICAgICBxdWVzdGlvbjU6ICIiLAogICAgICAgIGJhcmdpbk51bTogIiIsIC8v56CN5Lu35qyh5pWwCiAgICAgICAgYWRkcmVzczogIiIKICAgICAgfSwKICAgICAgaXRlbUluZGV4OiAnJywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGNoZWNrZWQ6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIgogICAgfTsKICB9LAogIHByb3ZpZGU6IHsKICAgIGlzRWRpdDogdHJ1ZQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoImNvbW1vbiIsIHsKICAgICAgYmFyZ2FpbkRhdGE6ICJiYXJnYWluRGF0YSIKICAgIH0pCiAgICAvLyBtZXRhRGF0YTogewogICAgLy8gICBzZXQobWV0YSl7CiAgICAvLyAgICAgdGhpcy5zZXRCYXJnYWluRGF0YShtZXRhKTsKICAgIC8vICAgfSwKICAgIC8vICAgZ2V0KCl7CiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYmFyZ2FpbkRhdGE7CiAgICAvLyAgIH0KICAgIC8vIH0KICB9LAogIHdhdGNoOiB7CiAgICBtZXRhRGF0YTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbihuZXdEYXRhKXsKICAgICAgICBjb25zb2xlLmxvZyhuZXdEYXRhKQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMuJHJvdXRlLnF1ZXJ5LmlkKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHRoaXMuZ2V0SW5mbyh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucygiY29tbW9uIiwgewogICAgICBzZXRCYXJnYWluRGF0YTogInNldEJhcmdhaW5EYXRhIgogICAgfSksCiAgICBpbWdEZWxldGUoa2V5KXsKICAgICAgICB0aGlzLm1ldGFEYXRhW2tleV0gPSBbXTsKICAgIH0sCiAgICBjbGlja0l0ZW0oaW5kZXgpewogICAgICAgIHRoaXMuaXRlbUluZGV4ID0gaW5kZXg7CiAgICB9LAogICAgYWZ0ZXJSZWFkKGZpbGUpewogICAgICAgIHRoaXMudXBsb2FkKGZpbGUuZmlsZSkKICAgIH0sCiAgICBhc3luYyB1cGxvYWQoZmlsZSkgewogICAgICAgIGxldCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybS5hcHBlbmQoInVwZmlsZSAiLCBmaWxlKTsKICAgICAgICBsZXQgY29uZmlnID0gewogICAgICAgICAgICBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgfQogICAgICAgIH07CiAgICAgICAgbGV0IHtkYXRhOiByZXN9ID0gYXdhaXQgdGhpcy4kYXBpLmNvbW1vbi51cGxvYWQoZm9ybSkgICAgCiAgICAgICAgaWYgKHJlcy5jb2RlID09ICIwMDAwIikgewogICAgICAgICAgICB0aGlzLm1ldGFEYXRhW3RoaXMuaXRlbUluZGV4XSA9IFt7dXJsOiByZXMucmVzdWx0LmRhdGF9XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRub3RpZnkoe3R5cGU6ICJkYW5nZXIiLCBtZXNzYWdlOiByZXMubXNnfSkKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0SW5mbyhpZCl7CiAgICAgIHRoaXMuJHRvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLAogICAgICAgIGR1cmF0aW9uOiAwCiAgICAgIH0pOwogICAgICBsZXQge2RhdGE6IHJlc30gPSBhd2FpdCB0aGlzLiRhcGkuY29tbW9uLmJhcmdpbkluZm8oewogICAgICAgIHR5cGU6ICJlZGl0IiwKICAgICAgICBpZDogaWQKICAgICAgfSk7CiAgICAgIHRoaXMuJHRvYXN0LmNsZWFyKCk7CiAgICAgIGlmKHJlcy5jb2RlID09PSAiMDAwMCIpewogICAgICAgIGxldCBwYXJhbXMgPSByZXMucmVzdWx0LmJhcmdpbjsKICAgICAgICBwYXJhbXMucHJpemVEZXNjcmlwdGlvbiA9IEpTT04ucGFyc2UocGFyYW1zLnByaXplRGVzY3JpcHRpb24pOwogICAgICAgIHBhcmFtcy5kaXNjb3VudCA9IEpTT04ucGFyc2UocGFyYW1zLmRpc2NvdW50KTsKICAgICAgICBwYXJhbXMuZ2lmdCA9IEpTT04ucGFyc2UocGFyYW1zLmdpZnQpOwogICAgICAgIHBhcmFtcy50aHVtYm5haWwgPSBKU09OLnBhcnNlKHBhcmFtcy50aHVtYm5haWwpOwogICAgICAgIHRoaXMubWV0YURhdGEgPSBwYXJhbXM7CiAgICAgIH1lbHNlIHsKICAgICAgICAgdGhpcy4kbm90aWZ5KHsgdHlwZTogJ2RhbmdlcicsIG1lc3NhZ2U6IHJlcy5tc2cgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzYXZlKCl7CiAgICAgIGxldCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm1ldGFEYXRhKTsKICAgICAgcGFyYW1zLnByaXplRGVzY3JpcHRpb24gPSBKU09OLnN0cmluZ2lmeShwYXJhbXMucHJpemVEZXNjcmlwdGlvbik7CiAgICAgIHBhcmFtcy5kaXNjb3VudCA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5kaXNjb3VudCk7CiAgICAgIHBhcmFtcy5naWZ0ID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLmdpZnQpOwogICAgICBwYXJhbXMudGh1bWJuYWlsID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLnRodW1ibmFpbCk7CiAgICAgIHRoaXMuJHRvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLAogICAgICAgIGR1cmF0aW9uOiAwCiAgICAgIH0pOwogICAgICBsZXQge2RhdGE6IHJlc30gPSBhd2FpdCB0aGlzLiRhcGkuY29tbW9uLmJhcmdpblNhdmUocGFyYW1zKTsKICAgICAgdGhpcy4kdG9hc3QuY2xlYXIoKTsKICAgICAgaWYocmVzLmNvZGUgPT09ICIwMDAwIil7CiAgICAgICAgIHRoaXMuJG5vdGlmeSh7IHR5cGU6ICdzdWNjZXNzJywgbWVzc2FnZTogIuS/neWtmOaIkOWKn++8gSIgfSk7CiAgICAgIH1lbHNlIHsKICAgICAgICAgdGhpcy4kbm90aWZ5KHsgdHlwZTogJ2RhbmdlcicsIG1lc3NhZ2U6IHJlcy5tc2cgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE11c2ljLAogICAgQ29udGVudFdyYXAsCiAgICBVc2VyQ2VudGVyLAogICAgVlRleHRhcmVhLAogICAgQWRkRmlsZSwKICAgIEFkZENvbXBvbmVudCwKICAgIE9yZGVyU29mdCwKICAgIFRpdGxlQWN0aXZlLAogICAgVGhlbWVBY3Rpdml0eSwKICAgIFNwZWNpYWwsCiAgICBDcmVhdGVUaW1lCiAgfQp9Owo="},{"version":3,"sources":["bargainDev.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bargainDev.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"wrap\">\n    <music></music>\n    <user-center></user-center>\n    <theme-activity></theme-activity>\n    <special></special>\n    <img src=\"@/assets/img/bargain-head.jpeg\" width=\"100%\" />\n    <title-active v-model=\"metaData.activityName\"></title-active>\n    <content-wrap>\n      <create-time :startTime.sync=\"metaData.startTime\" :endTime.sync=\"metaData.endTime\"></create-time>\n    </content-wrap>\n    <content-wrap>\n      <van-uploader class=\"center\" v-model=\"metaData.gift\" @delete=\"imgDelete('gift')\" :max-count=\"1\" :after-read=\"afterRead\" @click.native=\"clickItem('gift')\">\n        <div class=\"upload\">\n          <van-icon name=\"photo\" style=\"font-size: 50px;\" />\n          <span style=\"font-size: 10px;\">上传商品图片</span>\n        </div>\n      </van-uploader>\n      <div class=\"x-area\">\n        <span class=\"label-item\">\n          原价：\n          <van-field class=\"v-input\"  v-model=\"metaData.originalPrice\"/>\n          <span style=\"color: red;\">元</span>\n        </span>\n        <span class=\"label-item\">\n          底价：\n          <van-field class=\"v-input\" v-model=\"metaData.floorPrice\"/>\n          <span style=\"color: red;\">元</span>\n        </span>\n      </div>\n      <div class=\"x-title\">每次减价减少范围</div>\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item\">\n          最少：\n          <van-field class=\"v-input\" v-model=\"metaData.minReduction\"/>\n          <span style=\"color: red;\">元</span>\n        </span>\n        <span class=\"label-item\">\n          最多：\n          <van-field class=\"v-input\" v-model=\"metaData.maxReduction\"/>\n          <span style=\"color: red;\">元</span>\n        </span>\n      </div>\n      <div\n        class=\"x-title\"\n        style=\"text-align: center;\"\n      >参考公式：（原价-底价）➗ 大致帮减人数=帮减范围平均数，帮减范围平均数-5=最小值，帮减范围平均数+5=最大值。建议设置30-40人帮减即可减至底价</div>\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item\">\n          报名者每隔\n          <van-field class=\"v-input\"  v-model=\"metaData.restrictTime\"/>\n          <span style=\"color: red;\">小时</span>可再次给自己减价\n        </span>\n      </div>\n      <div class=\"x-title\" style=\"text-align: center;\">每个报名者可在活动时间内多次自己减价，帮忙者仅有一次机会；如有用户报名，此时间可减不可增</div>\n      <!-- <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          活动首页显示需要多少人帮忙获得奖品\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span>\n      </div> -->\n    </content-wrap>\n    <content-wrap title=\"奖品描述\">\n      <div class=\"x-area\" style=\"margin: 10px 0;justify-content: center;\">\n        <span class=\"label-item\">\n          本期奖品\n          <van-field class=\"v-input\" v-model=\"metaData.giftName\"/>\n        </span>\n      </div>\n      <div class=\"x-title\" style=\"text-align: center;\">如有用户报名，奖品数量可增不可减，谨慎填写</div>\n      <add-component :activeList.sync=\"metaData.prizeDescription\"></add-component>\n    </content-wrap>\n    <content-wrap title=\"主办方名片\">\n      <div class=\"x-title\" style=\"text-align: center;\">\n        <van-icon name=\"warning\" />完善的主办方信息可以让用户更全方位地了解主办方，可以很好的提高活动效果\n      </div>\n      <!-- <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          显示/隐藏 主办方名片\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span>\n      </div> -->\n      <!-- <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          显示/隐藏 活动主页顶部logo\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span>\n      </div> -->\n      <div class=\"title-23\">\n        <span style=\"color: #10aeff;background: #fff;padding: 0 10px;\">基本信息</span>\n      </div>\n      <!-- <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          显示/隐藏 基本信息\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span> \n      </div> -->\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <van-uploader class=\"round\"  v-model=\"metaData.thumbnail\" @delete=\"imgDelete('thumbnail')\" :max-count=\"1\" :after-read=\"afterRead\" @click=\"clickItem('thumbnail')\"/>\n        <div style=\"width: 200px;\">\n          <van-field\n            class=\"c-textarea\"\n            v-model=\"metaData.companyName\"\n            rows=\"1\"\n            autosize\n            type=\"textarea\"\n            maxlength=\"15\"\n            placeholder=\"此处输入主办方名称或品牌名\"\n            show-word-limit\n          />\n          <van-field\n            style=\"margin-top: 20px;\"\n            class=\"c-textarea\"\n            v-model=\"metaData.companyDescription\"\n            rows=\"1\"\n            autosize\n            type=\"textarea\"\n            maxlength=\"100\"\n            placeholder=\"此处输入主办方简要介绍\"\n            show-word-limit\n          />\n        </div>\n      </div>\n      <div class=\"title-23\">\n        <span style=\"color: #10aeff;background: #fff;padding: 0 10px;\">咨询电话</span>\n      </div>\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item\" style=\"width: 100%;\">\n          <van-field class=\"v-input\" v-model=\"metaData.phone\" style=\"width: 100%;\" />\n        </span>\n      </div>\n      <div class=\"x-title\">提示：客户可以通过此电话直接咨询，建议留下手机号保持手机畅通（不留电话则不显示）</div>\n      <div class=\"title-23\">\n        <span style=\"color: #10aeff;background: #fff;padding: 0 10px;\">选择位置</span>\n      </div>\n      <div class=\"location\">\n        <van-icon name=\"location\" />选择主办方地址\n      </div>\n      <div class=\"x-title\" style=\"text-align: center;\">提示：不选择则不显示</div>\n    </content-wrap>\n    <content-wrap title=\"信息收集设置\">\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />可以根据活动具体需求来设定需要收集客户的信息字段\n      </div>\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />自定义项为空则不显示，最多可以填写6个字\n      </div>\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />如果用户报名，此内容不可再做任何修改\n      </div>\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />\n        <span style=\"color: red;\">谨慎设定自定义信息收集，要求填写过多信息，报名数将大大降低</span>\n      </div>\n      <div class=\"x-area\">\n        <span class=\"label-item\">\n          <van-field class=\"v-input\" v-model=\"metaData.question1\" placeholder=\"信息项名称\" style=\"width: 3rem;\" />\n        </span>\n        <span class=\"label-item\">\n          <!-- <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" /> -->\n          必填项\n        </span>\n      </div>\n      <div class=\"x-area\">\n        <span class=\"label-item\">\n          <van-field class=\"v-input\" v-model=\"metaData.question2\" placeholder=\"信息项名称\" style=\"width: 3rem;\" />\n        </span>\n        <span class=\"label-item\">\n          <!-- <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" /> -->\n          必填项\n        </span>\n      </div>\n      <div class=\"x-area\">\n        <span class=\"label-item\">\n          <van-field class=\"v-input\" v-model=\"metaData.question3\" placeholder=\"信息项名称\" style=\"width: 3rem;\" />\n        </span>\n        <span class=\"label-item\">\n          <!-- <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" /> -->\n          必填项\n        </span>\n      </div>\n      <div class=\"x-area\">\n        <span class=\"label-item\">\n          <van-field class=\"v-input\" v-model=\"metaData.question4\" placeholder=\"信息项名称\" style=\"width: 3rem;\" />\n        </span>\n        <span class=\"label-item\">\n          <!-- <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" /> -->\n          必填项\n        </span>\n      </div>\n      <div class=\"x-area\">\n        <span class=\"label-item\">\n          <van-field class=\"v-input\" v-model=\"metaData.question5\" placeholder=\"信息项名称\" style=\"width: 3rem;\" />\n        </span>\n        <span class=\"label-item\">\n          <!-- <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" /> -->\n          必填项\n        </span>\n      </div>\n    </content-wrap>\n    <content-wrap title=\"活动规则\">\n      <v-textarea v-model=\"metaData.activityRule\"></v-textarea>\n    </content-wrap>\n    <content-wrap title=\"领奖信息\">\n      <v-textarea v-model=\"metaData.prizeInfo\"></v-textarea>\n    </content-wrap>\n    <!-- <content-wrap title=\"评论设置\">\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          开启语音评论\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span>\n      </div>\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          报名后才能评论\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span>\n      </div>\n      <div class=\"x-area\" style=\"margin: 10px 0;\">\n        <span class=\"label-item x-title\">\n          只显示精华评论\n          <van-switch v-model=\"checked\" active-color=\"#07c160\" inactive-color=\"#ee0a24\" />\n        </span>\n      </div>\n      <div class=\"x-title\">温馨提示：如果开启，活动首页评论列表只显示精华评论（可在活动管理=>留言管理下进行移入精华操作；如果关闭，将显示所有评论</div>\n    </content-wrap> -->\n    <content-wrap title=\"店内优惠\">\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />在此填写您的店内优惠或者活动优惠内容\n      </div>\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />第一条不填写，则不显示\n      </div>\n      <div class=\"x-title\">\n        <van-icon name=\"info\" />最多可设置20条优惠内容\n      </div>\n      <add-file :activeList.sync=\"metaData.discount\"></add-file>\n    </content-wrap>\n    <order-soft></order-soft>\n    <div class=\"footer\">\n      <van-button\n        round\n        type=\"info\"\n        style=\"background:#ececec;border-color: #ececec; color: #0b206d;\"\n      >预览活动</van-button>\n      <van-button round type=\"info\" style=\"background:#0b206d;border-color: #0b206d;\" @click=\"save\">保存活动</van-button>\n    </div>\n  </div>\n</template>\n<script>\nimport Music from \"../components/music\";\nimport UserCenter from \"../components/userCenter\";\nimport ContentWrap from \"../components/contentWrap\";\nimport VTextarea from \"../components/textarea\";\nimport AddFile from \"../components/addFile\";\nimport AddComponent from \"../components/addComponent\";\nimport OrderSoft from \"../components/orderSoft\";\nimport TitleActive from \"../components/titleActive\";\nimport ThemeActivity from \"../components/theme\";\nimport Special from \"../components/special\";\nimport CreateTime from \"../components/time\";\nimport { mapGetters, mapMutations } from \"vuex\";\nexport default {\n  name: \"bargain-dev\",\n  data() {\n    return {\n      metaData: {\n        id: \"\",\n        activityName: \"\", //活动名称\n        startTime: \"\", //开始时间\n        endTime: \"\", //结束时间\n        originalPrice: \"\", //原价\n        floorPrice: \"\", //底价\n        minReduction: \"\", //最少砍价\n        maxReduction: \"\", //最多砍价\n        targetNum: \"\",\n        restrictTime: \"\", //砍价间隔时间\n        prizeDescription: [], //奖品描述\n        activityRule: \"\", //活动规则\n        prizeInfo: \"\", //领奖信息\n        companyDescription: \"\", //机构介绍\n        companyName: \"\", //机构名称\n        thumbnail: [], //机构图片\n        discount: [],\n        updateUser: \"\",\n        createTime: \"\", //创建时间\n        updateTime: \"\",\n        qrImg: \"\", //二维码\n        gift: [], //礼物图片\n        prizeLeft: \"\",\n        latitude: \"\",\n        longitude: \"\",\n        headImage: \"\",\n        giftName: \"\",\n        footImage: \"\",\n        total_price: \"\",\n        bgImage: \"\",\n        prizeNum: \"\",\n        phone: \"\",\n        question1: \"\",\n        question2: \"\",\n        question3: \"\",\n        question4: \"\",\n        question5: \"\",\n        barginNum: \"\", //砍价次数\n        address: \"\"\n      },\n      itemIndex: '',\n      loading: false,\n      checked: false,\n      message: \"\"\n    };\n  },\n  provide: {\n    isEdit: true\n  },\n  computed: {\n    ...mapGetters(\"common\", {\n      bargainData: \"bargainData\"\n    })\n    // metaData: {\n    //   set(meta){\n    //     this.setBargainData(meta);\n    //   },\n    //   get(){\n    //     return this.bargainData;\n    //   }\n    // }\n  },\n  watch: {\n    metaData: {\n      handler: function(newData){\n        console.log(newData)\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  mounted() {\n    if (!this.$route.query.id) {\n      return;\n    }\n    this.getInfo(this.$route.query.id)\n  },\n  methods: {\n    ...mapMutations(\"common\", {\n      setBargainData: \"setBargainData\"\n    }),\n    imgDelete(key){\n        this.metaData[key] = [];\n    },\n    clickItem(index){\n        this.itemIndex = index;\n    },\n    afterRead(file){\n        this.upload(file.file)\n    },\n    async upload(file) {\n        let form = new FormData();\n        form.append(\"upfile \", file);\n        let config = {\n            headers: { \"Content-Type\": \"multipart/form-data\" }\n        };\n        let {data: res} = await this.$api.common.upload(form)    \n        if (res.code == \"0000\") {\n            this.metaData[this.itemIndex] = [{url: res.result.data}];\n        } else {\n            this.$notify({type: \"danger\", message: res.msg})\n        }\n    },\n    async getInfo(id){\n      this.$toast.loading({\n        message: '加载中...',\n        duration: 0\n      });\n      let {data: res} = await this.$api.common.barginInfo({\n        type: \"edit\",\n        id: id\n      });\n      this.$toast.clear();\n      if(res.code === \"0000\"){\n        let params = res.result.bargin;\n        params.prizeDescription = JSON.parse(params.prizeDescription);\n        params.discount = JSON.parse(params.discount);\n        params.gift = JSON.parse(params.gift);\n        params.thumbnail = JSON.parse(params.thumbnail);\n        this.metaData = params;\n      }else {\n         this.$notify({ type: 'danger', message: res.msg });\n      }\n    },\n    async save(){\n      let params = Object.assign({}, this.metaData);\n      params.prizeDescription = JSON.stringify(params.prizeDescription);\n      params.discount = JSON.stringify(params.discount);\n      params.gift = JSON.stringify(params.gift);\n      params.thumbnail = JSON.stringify(params.thumbnail);\n      this.$toast.loading({\n        message: '加载中...',\n        duration: 0\n      });\n      let {data: res} = await this.$api.common.barginSave(params);\n      this.$toast.clear();\n      if(res.code === \"0000\"){\n         this.$notify({ type: 'success', message: \"保存成功！\" });\n      }else {\n         this.$notify({ type: 'danger', message: res.msg });\n      }\n    }\n  },\n  components: {\n    Music,\n    ContentWrap,\n    UserCenter,\n    VTextarea,\n    AddFile,\n    AddComponent,\n    OrderSoft,\n    TitleActive,\n    ThemeActivity,\n    Special,\n    CreateTime\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.wrap {\n  background: #a6141d;\n  padding-bottom: 1.5rem;\n}\n.footer {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 1.5rem;\n  background: #ffffff;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  z-index: 999;\n  /deep/ .van-button {\n    width: 150px;\n  }\n}\n.upload-div {\n  width: 375px;\n  height: 174px;\n  background: #ccc;\n}\n/deep/ .center.van-uploader {\n  position: relative;\n  left: 50%;\n  transform: translateX(-51px);\n}\n/deep/ .round .van-uploader__upload {\n  border-radius: 50%;\n}\n.v-input {\n  display: inline-block;\n  width: 70px;\n  border: 1px dashed #0d1a31;\n  border-radius: 5px;\n  /deep/ .van-field__control {\n    color: red;\n  }\n}\n.upload {\n  width: 100px;\n  height: 100px;\n  border-radius: 20px;\n  border: 1px dashed #0d1a31;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #0d1a31;\n}\n.label-item {\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n}\n.x-area {\n  display: flex;\n  justify-content: space-between;\n  margin: 30px 0 10px 0;\n}\n.x-title {\n  font-size: 14px;\n  color: #696969;\n}\n.title-23 {\n  border: 1px solid #ccc;\n  text-align: center;\n  height: 0;\n  font-size: 0.4rem;\n  line-height: 0rem;\n  width: 60%;\n  left: 20%;\n  position: relative;\n  margin: 0.5rem 0;\n}\n.c-textarea {\n  border: 1px dashed #0d1a31;\n  padding: 10px 15px;\n  border-radius: 5px;\n}\n.location {\n  background: url(\"../assets/img/position.jpg\") no-repeat;\n  background-size: 100% 100%;\n  height: 1rem;\n  width: 6rem;\n  margin: 0 1rem 10px 1rem;\n  color: #fff;\n  text-align: center;\n  line-height: 1rem;\n}\n</style>\n\n\n"]}]}