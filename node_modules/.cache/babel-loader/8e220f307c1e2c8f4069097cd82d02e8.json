{"remainingRequest":"/Users/alex/Desktop/myproject/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/alex/Desktop/myproject/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/alex/Desktop/myproject/src/components/addComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alex/Desktop/myproject/src/components/addComponent.vue","mtime":1574312025013},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZUZXh0YXJlYSBmcm9tICIuL3RleHRhcmVhIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZGQtY29tcG9uZW50IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTGlzdDogW10sCiAgICAgIGl0ZW1JbmRleDogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBWVGV4dGFyZWE6IFZUZXh0YXJlYQogIH0sCiAgcHJvcHM6IHsKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWZ0ZXJSZWFkOiBmdW5jdGlvbiBhZnRlclJlYWQoZmlsZSkgewogICAgICB0aGlzLnVwbG9hZChmaWxlLmZpbGUpOwogICAgfSwKICAgIGNsaWNrSXRlbTogZnVuY3Rpb24gY2xpY2tJdGVtKGluZGV4KSB7CiAgICAgIHRoaXMuaXRlbUluZGV4ID0gaW5kZXg7CiAgICB9LAogICAgaW1nRGVsZXRlOiBmdW5jdGlvbiBpbWdEZWxldGUoaXRlbSkgewogICAgICBpdGVtLmltZ1VybCA9IFtdOwogICAgfSwKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIGZvcm0sIGNvbmZpZywgX3RoaXMkJGFwaSRjb21tb24kdXBsLCByZXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHVwbG9hZCQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJ1cGZpbGUgIiwgZmlsZSk7CiAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfdGhpcyQkYXBpJGNvbW1vbiR1cGwgPSB0aGlzLiRhcGkuY29tbW9uLnVwbG9hZChmb3JtKSwgcmVzID0gX3RoaXMkJGFwaSRjb21tb24kdXBsLmRhdGE7CgogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAiMDAwMCIpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTGlzdFt0aGlzLml0ZW1JbmRleF0uaW1nVXJsLnB1c2gocmVzLnJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgYmx1ckZ1bmN0aW9uOiBmdW5jdGlvbiBibHVyRnVuY3Rpb24oZSkgewogICAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7IC8v6I635Y+W6L2v6ZSu55uY5ZSk6LW35YmN5rWP6KeI5Zmo5rua5Yqo6YOo5YiG55qE6auY5bqmCgogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wOwogICAgfSwKICAgIGFkZEFjdGl2ZTogZnVuY3Rpb24gYWRkQWN0aXZlKHR5cGUpIHsKICAgICAgdGhpcy5hY3RpdmVMaXN0LnB1c2goewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgbGluazogIiIsCiAgICAgICAgZGVzOiAiIiwKICAgICAgICB0ZXh0OiAiIiwKICAgICAgICBpbWdVcmw6IFtdCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVRoaXM6IGZ1bmN0aW9uIGRlbGV0ZVRoaXMoaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmVMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgdXBEYXRhOiBmdW5jdGlvbiB1cERhdGEoaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmVMaXN0ID0gdGhpcy5zd2FwSXRlbXModGhpcy5hY3RpdmVMaXN0LCBpbmRleCwgaW5kZXggLSAxKTsKICAgIH0sCiAgICBkb3duRGF0YTogZnVuY3Rpb24gZG93bkRhdGEoaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmVMaXN0ID0gdGhpcy5zd2FwSXRlbXModGhpcy5hY3RpdmVMaXN0LCBpbmRleCwgaW5kZXggKyAxKTsKICAgIH0sCiAgICBzd2FwSXRlbXM6IGZ1bmN0aW9uIHN3YXBJdGVtcyhhcnIsIGluZGV4MSwgaW5kZXgyKSB7CiAgICAgIGFycltpbmRleDFdID0gYXJyLnNwbGljZShpbmRleDIsIDEsIGFycltpbmRleDFdKVswXTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["addComponent.vue"],"names":[],"mappings":"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","sourcesContent":["。<template>\n  <div>\n       <div class=\"wrap-file\" v-for=\"(item, index) in activeList\" :key='index'>\n            <div class=\"tool-bar\">\n                <span @click=\"upData(index)\" v-if=\"index != 0\">上移</span>\n                <span @click=\"downData(index)\" v-if=\"index != activeList.length-1\">下移</span>\n            </div>\n                <van-icon name=\"clear\"  @click=\"deleteThis(index)\" class=\"delete\"/>\n                <van-uploader  v-if=\"item.type == 'img'\"  v-model=\"item.imgUrl\" @delete=\"imgDelete(item)\" :max-count=\"1\" :after-read=\"afterRead\" @click=\"clickItem(index)\"/>\n                <van-field\n                    v-if=\"item.type == 'media'\"\n                    class=\"c-textarea\"\n                    v-model=\"item.link\"\n                    rows=\"2\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"请输入视频地址【支持优酷、腾讯视频】\"\n                    show-word-limit\n                />\n                <van-field\n                    v-if=\"item.type == 'text'\"\n                    class=\"c-textarea\"\n                    v-model=\"item.text\"\n                    rows=\"2\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"建议填写机构的成立时间、经营范围、产品优势、场地图片、产品图片、以及荣誉介绍\"\n                    show-word-limit\n                />\n                <van-field\n                    v-if=\"item.type == 'textLink'\"\n                    class=\"c-textarea\"\n                    v-model=\"item.link\"\n                    rows=\"1\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"输入需要跳转的网址\"\n                    show-word-limit\n                />\n                <van-field\n                    v-if=\"item.type == 'textLink'\"\n                    class=\"c-textarea\"\n                    style=\"margin: 20px 0 0 0;\"\n                    v-model=\"item.des\"\n                    rows=\"1\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"输入超链接的文字描述\"\n                    show-word-limit\n                />\n        </div>\n        <div class='add'  @click=\"addActive('img')\"><van-icon name=\"plus\" />添加图片（最多添加10张图片） </div>\n        <div class='add'  @click=\"addActive('text')\"><van-icon name=\"plus\" />添加文本（最多添加10个文本内容） </div>\n        <div class='add'  @click=\"addActive('media')\"><van-icon name=\"plus\" />添加视频（最多添加5个视频） </div>\n        <div class='add'  @click=\"addActive('textLink')\"><van-icon name=\"plus\" />添加文字链接（最多添加10个链接） </div>\n  </div>\n</template>\n\n<script>\nimport VTextarea from \"./textarea\";\n\nexport default {\n  name: \"add-component\",\n  data() {\n    return {\n      activeList: [],\n      itemIndex: ''\n    };\n  },\n  components: {\n    VTextarea\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"\"\n    }\n  },\n  methods: {\n    afterRead(file){\n        this.upload(file.file)\n    },\n    clickItem(index){\n        this.itemIndex = index;\n    },\n    imgDelete(item){\n        item.imgUrl = [];\n    },\n    async upload(file) {\n        let form = new FormData();\n        form.append(\"upfile \", file);\n        let config = {\n            headers: { \"Content-Type\": \"multipart/form-data\" }\n        };\n        let {data: res} = this.$api.common.upload(form)    \n        if (res.code == \"0000\") {\n            this.activeList[this.itemIndex].imgUrl.push(res.result.data);\n        } else {\n            this.$notify({type: \"danger\", message: res.msg})\n        }\n    },\n    blurFunction(e) {\n      var scrollTop =\n        document.documentElement.scrollTop ||\n        window.pageYOffset ||\n        document.body.scrollTop; //获取软键盘唤起前浏览器滚动部分的高度\n      document.documentElement.scrollTop = scrollTop;\n    },\n    addActive(type) {\n      this.activeList.push({\n        type: type,\n        link: \"\",\n        des: \"\",\n        text: \"\",\n        imgUrl: []\n      });\n    },\n    deleteThis(index) {\n      this.activeList.splice(index, 1);\n    },\n    upData(index) {\n      this.activeList = this.swapItems(this.activeList, index, index - 1);\n    },\n    downData(index) {\n      this.activeList = this.swapItems(this.activeList, index, index + 1);\n    },\n    swapItems: function(arr, index1, index2) {\n      arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n      return arr;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.add {\n  height: 1rem;\n  border-radius: 0.5rem;\n  width: 100%;\n  margin: 0.3rem auto;\n  display: flex;\n  justify-content: center;\n  color: 0.3rem;\n  border: 1px dashed #0b206d;\n  color: #0b206d;\n  align-items: center;\n}\n.tool-bar {\n  position: absolute;\n  height: 0.8rem;\n  top: -0.8rem;\n  width: 8.5rem;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.tool-bar span {\n  display: inline-block;\n  width: 1.5rem;\n  height: 0.6rem;\n  font-size: 0.4rem;\n  line-height: 0.6rem;\n  color: #fff;\n  text-align: center;\n  border-radius: 5px;\n  margin: 0 5px;\n  background: #171717;\n}\n.wrap-file {\n  position: relative;\n  margin: 1rem auto 0.2rem auto;\n  min-height: 3rem;\n  padding: 1px;\n}\n.delete {\n  position: absolute;\n  right: 0rem;\n  top: -0.6rem;\n  font-size: 24px;\n  z-index: 100;\n  color: #171717;\n}\n.text {\n  width: 5rem;\n  margin: 0.5rem 2rem;\n}\n.tag {\n  position: absolute;\n  left: 0.5rem;\n  top: 0.8rem;\n  font-size: 14px;\n  z-index: 100;\n}\n.c-textarea {\n  border: 1px dashed #0d1a31;\n  padding: 10px 15px;\n  border-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}