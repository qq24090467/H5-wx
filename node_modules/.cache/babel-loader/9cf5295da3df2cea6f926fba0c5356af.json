{"remainingRequest":"/Users/alex/Desktop/myproject/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/alex/Desktop/myproject/src/components/addComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alex/Desktop/myproject/src/components/addComponent.vue","mtime":1574698691998},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alex/Desktop/myproject/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZUZXh0YXJlYSBmcm9tICIuL3RleHRhcmVhIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZGQtY29tcG9uZW50IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbUluZGV4OiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFZUZXh0YXJlYTogVlRleHRhcmVhCiAgfSwKICBwcm9wczogewogICAgYWN0aXZlTGlzdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHRoaXMudXBsb2FkKGZpbGUuZmlsZSk7CiAgICB9LAogICAgY2xpY2tJdGVtOiBmdW5jdGlvbiBjbGlja0l0ZW0oaW5kZXgpIHsKICAgICAgdGhpcy5pdGVtSW5kZXggPSBpbmRleDsKICAgIH0sCiAgICBpbWdEZWxldGU6IGZ1bmN0aW9uIGltZ0RlbGV0ZShpdGVtKSB7CiAgICAgIGl0ZW0uaW1nVXJsID0gW107CiAgICB9LAogICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZmlsZSkgewogICAgICB2YXIgZm9ybSwgY29uZmlnLCBfcmVmLCByZXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHVwbG9hZCQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCJ1cGZpbGUgIiwgZmlsZSk7CiAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuJGFwaS5jb21tb24udXBsb2FkKGZvcm0pKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfcmVmID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByZXMgPSBfcmVmLmRhdGE7CgogICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAiMDAwMCIpIHsKICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTGlzdFt0aGlzLml0ZW1JbmRleF0uaW1nVXJsID0gW3sKICAgICAgICAgICAgICAgICAgdXJsOiByZXMucmVzdWx0LmRhdGEKICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmFjdGl2ZUxpc3QnLCB0aGlzLmFjdGl2ZUxpc3QpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBibHVyRnVuY3Rpb246IGZ1bmN0aW9uIGJsdXJGdW5jdGlvbihlKSB7CiAgICAgIHZhciBzY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsgLy/ojrflj5bova/plK7nm5jllKTotbfliY3mtY/op4jlmajmu5rliqjpg6jliIbnmoTpq5jluqYKCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7CiAgICB9LAogICAgYWRkQWN0aXZlOiBmdW5jdGlvbiBhZGRBY3RpdmUodHlwZSkgewogICAgICB0aGlzLmFjdGl2ZUxpc3QucHVzaCh7CiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICBsaW5rOiAiIiwKICAgICAgICBkZXM6ICIiLAogICAgICAgIHRleHQ6ICIiLAogICAgICAgIGltZ1VybDogW10KICAgICAgfSk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTphY3RpdmVMaXN0JywgdGhpcy5hY3RpdmVMaXN0KTsKICAgIH0sCiAgICBkZWxldGVUaGlzOiBmdW5jdGlvbiBkZWxldGVUaGlzKGluZGV4KSB7CiAgICAgIHRoaXMuYWN0aXZlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6YWN0aXZlTGlzdCcsIHRoaXMuYWN0aXZlTGlzdCk7CiAgICB9LAogICAgdXBEYXRhOiBmdW5jdGlvbiB1cERhdGEoaW5kZXgpIHsKICAgICAgdGhpcy5hY3RpdmVMaXN0ID0gdGhpcy5zd2FwSXRlbXModGhpcy5hY3RpdmVMaXN0LCBpbmRleCwgaW5kZXggLSAxKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmFjdGl2ZUxpc3QnLCB0aGlzLmFjdGl2ZUxpc3QpOwogICAgfSwKICAgIGRvd25EYXRhOiBmdW5jdGlvbiBkb3duRGF0YShpbmRleCkgewogICAgICB0aGlzLmFjdGl2ZUxpc3QgPSB0aGlzLnN3YXBJdGVtcyh0aGlzLmFjdGl2ZUxpc3QsIGluZGV4LCBpbmRleCArIDEpOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6YWN0aXZlTGlzdCcsIHRoaXMuYWN0aXZlTGlzdCk7CiAgICB9LAogICAgc3dhcEl0ZW1zOiBmdW5jdGlvbiBzd2FwSXRlbXMoYXJyLCBpbmRleDEsIGluZGV4MikgewogICAgICBhcnJbaW5kZXgxXSA9IGFyci5zcGxpY2UoaW5kZXgyLCAxLCBhcnJbaW5kZXgxXSlbMF07CiAgICAgIHJldHVybiBhcnI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["addComponent.vue"],"names":[],"mappings":"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","sourcesContent":["。<template>\n  <div>\n       <div class=\"wrap-file\" v-for=\"(item, index) in activeList\" :key='index'>\n            <div class=\"tool-bar\">\n                <span @click=\"upData(index)\" v-if=\"index != 0\">上移</span>\n                <span @click=\"downData(index)\" v-if=\"index != activeList.length-1\">下移</span>\n            </div>\n                <van-icon name=\"clear\"  @click=\"deleteThis(index)\" class=\"delete\"/>\n                <van-uploader  v-if=\"item.type == 'img'\"  v-model=\"item.imgUrl\" @delete=\"imgDelete(item)\" :max-count=\"1\" :after-read=\"afterRead\" @click.native=\"clickItem(index)\"/>\n                <van-field\n                    v-if=\"item.type == 'media'\"\n                    class=\"c-textarea\"\n                    v-model=\"item.link\"\n                    rows=\"2\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"请输入视频地址【支持优酷、腾讯视频】\"\n                    show-word-limit\n                />\n                <van-field\n                    v-if=\"item.type == 'text'\"\n                    class=\"c-textarea\"\n                    v-model=\"item.text\"\n                    rows=\"2\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"建议填写机构的成立时间、经营范围、产品优势、场地图片、产品图片、以及荣誉介绍\"\n                    show-word-limit\n                />\n                <van-field\n                    v-if=\"item.type == 'textLink'\"\n                    class=\"c-textarea\"\n                    v-model=\"item.link\"\n                    rows=\"1\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"输入需要跳转的网址\"\n                    show-word-limit\n                />\n                <van-field\n                    v-if=\"item.type == 'textLink'\"\n                    class=\"c-textarea\"\n                    style=\"margin: 20px 0 0 0;\"\n                    v-model=\"item.des\"\n                    rows=\"1\"\n                    autosize\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    placeholder=\"输入超链接的文字描述\"\n                    show-word-limit\n                />\n        </div>\n        <div class='add'  @click=\"addActive('img')\"><van-icon name=\"plus\" />添加图片（最多添加10张图片） </div>\n        <div class='add'  @click=\"addActive('text')\"><van-icon name=\"plus\" />添加文本（最多添加10个文本内容） </div>\n        <div class='add'  @click=\"addActive('media')\"><van-icon name=\"plus\" />添加视频（最多添加5个视频） </div>\n        <div class='add'  @click=\"addActive('textLink')\"><van-icon name=\"plus\" />添加文字链接（最多添加10个链接） </div>\n  </div>\n</template>\n\n<script>\nimport VTextarea from \"./textarea\";\n\nexport default {\n  name: \"add-component\",\n  data() {\n    return {\n      itemIndex: ''\n    };\n  },\n  components: {\n    VTextarea\n  },\n  props: {\n    activeList: {\n      type: Array,\n      default: function(){\n        return []\n      }\n    }\n  },\n  methods: {\n    afterRead(file){\n        this.upload(file.file)\n    },\n    clickItem(index){\n        this.itemIndex = index;\n    },\n    imgDelete(item){\n        item.imgUrl = [];\n    },\n    async upload(file) {\n        let form = new FormData();\n        form.append(\"upfile \", file);\n        let config = {\n            headers: { \"Content-Type\": \"multipart/form-data\" }\n        };\n        let {data: res} =  await this.$api.common.upload(form)    \n        if (res.code == \"0000\") {\n            this.activeList[this.itemIndex].imgUrl = [{ url: res.result.data }];\n            this.$emit('update:activeList', this.activeList)\n        } else {\n            this.$notify({type: \"danger\", message: res.msg})\n        }\n    },\n    blurFunction(e) {\n      var scrollTop =\n        document.documentElement.scrollTop ||\n        window.pageYOffset ||\n        document.body.scrollTop; //获取软键盘唤起前浏览器滚动部分的高度\n      document.documentElement.scrollTop = scrollTop;\n    },\n    addActive(type) {\n      this.activeList.push({\n        type: type,\n        link: \"\",\n        des: \"\",\n        text: \"\",\n        imgUrl: []\n      });\n      this.$emit('update:activeList', this.activeList)\n    },\n    deleteThis(index) {\n      this.activeList.splice(index, 1);\n      this.$emit('update:activeList', this.activeList)\n    },\n    upData(index) {\n      this.activeList = this.swapItems(this.activeList, index, index - 1);\n      this.$emit('update:activeList', this.activeList)\n    },\n    downData(index) {\n      this.activeList = this.swapItems(this.activeList, index, index + 1);\n      this.$emit('update:activeList', this.activeList)\n    },\n    swapItems: function(arr, index1, index2) {\n      arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n      return arr;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.add {\n  height: 1rem;\n  border-radius: 0.5rem;\n  width: 100%;\n  margin: 0.3rem auto;\n  display: flex;\n  justify-content: center;\n  color: 0.3rem;\n  border: 1px dashed #0b206d;\n  color: #0b206d;\n  align-items: center;\n}\n.tool-bar {\n  position: absolute;\n  height: 0.8rem;\n  top: -0.8rem;\n  width: 8.5rem;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.tool-bar span {\n  display: inline-block;\n  width: 1.5rem;\n  height: 0.6rem;\n  font-size: 0.4rem;\n  line-height: 0.6rem;\n  color: #fff;\n  text-align: center;\n  border-radius: 5px;\n  margin: 0 5px;\n  background: #171717;\n}\n.wrap-file {\n  position: relative;\n  margin: 1rem auto 0.2rem auto;\n  min-height: 3rem;\n  padding: 1px;\n}\n.delete {\n  position: absolute;\n  right: 0rem;\n  top: -0.6rem;\n  font-size: 24px;\n  z-index: 100;\n  color: #171717;\n}\n.text {\n  width: 5rem;\n  margin: 0.5rem 2rem;\n}\n.tag {\n  position: absolute;\n  left: 0.5rem;\n  top: 0.8rem;\n  font-size: 14px;\n  z-index: 100;\n}\n.c-textarea {\n  border: 1px dashed #0d1a31;\n  padding: 10px 15px;\n  border-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}